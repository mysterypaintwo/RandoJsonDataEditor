<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Door Properties Editor</title>
    <link rel="stylesheet" href="../editorStyles.css">
</head>
<body>
    <!-- =====================================================
       Header: Shows current location context
       ===================================================== -->
    <div id="header">
        ğŸŒ <span id="sector">Loading...</span> /
        <span id="region">Loading...</span> /
        <span id="roomName">Loading...</span> /
        ğŸšª <span id="doorDir">Loading...</span>
    </div>

    <!-- =====================================================
       Form container: scrollable main content
       ===================================================== -->
    <div id="form">
        <!-- Connection Info (Read-Only) -->
        <section>
            <h3>ğŸ”— Connection Info (Read-Only)</h3>
            <div id="connectionInfoContainer"></div>
        </section>

        <!-- Door Subtype (Color/Lock Type) -->
        <section>
            <h3>ğŸ¨ Door Type</h3>
            <div id="doorSubTypeContainer"></div>
        </section>

        <!-- Door Environments -->
        <section>
            <h3>ğŸŒŠ Door Environments</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">
                Define physics at this door, optionally based on entrance node
            </p>
            <div id="doorEnvironmentsContainer"></div>
        </section>

        <!-- Utility Stations -->
        <section>
            <h3>ğŸ”‹ Utility Stations</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">
                Save/refill stations available at this door
            </p>
            <div id="utilityContainer"></div>
        </section>

        <!-- Implicit Strat Flags -->
        <section>
            <h3>âš™ï¸ Standard Strat Generation</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">
                Enable automatic generation of standard strats
            </p>
            <div id="implicitFlagsContainer"></div>
        </section>

        <!-- Map Tile Mask -->
        <section>
            <h3>ğŸ—ºï¸ Map Tile Association</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">
                Mark which map tiles are associated with this door
            </p>
            <div id="tileMapContainer"></div>
        </section>

        <!-- Door Locks -->
        <section>
            <h3>ğŸ”’ Door Locks</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">
                Define lock conditions and unlock requirements
            </p>
            <div id="locksContainer"></div>
        </section>

        <!-- Twin Door Addresses -->
        <section>
            <h3>ğŸ‘¥ Twin Door Addresses</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">
                Other doors that always lead to the same destination
            </p>
            <div id="twinDoorAddressesContainer"></div>
        </section>

        <!-- Viewable Nodes -->
        <section>
            <h3>ğŸ‘ï¸ Viewable Nodes</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 8px;">
                Items that can be viewed from this door
            </p>
            <div id="viewableNodesContainer"></div>
        </section>

        <!-- Other Properties -->
        <section>
            <h3>ğŸ”§ Other Properties</h3>
            <div id="otherPropertiesContainer"></div>
        </section>
    </div>

    <!-- =====================================================
       Footer buttons: Save / Close actions
       ===================================================== -->
    <div id="footer">
        <button id="closeBtn">âŒ Close without Saving</button>
        <button id="saveBtn">ğŸ’¾ Save & Close</button>
    </div>

    <!-- =====================================================
       Load supporting scripts
       ===================================================== -->
    <script src="../base/baseEditor.js"></script>
    <script src="../../core/editorUtils.js"></script>
    
    <!-- Condition system -->
    <script src="../conditions/conditionConfig.js"></script>
    <script src="../conditions/sharedUtils.js"></script>
    <script src="../conditions/conditionRenderers.js"></script>
    <script src="../conditions/conditionEditorBase.js"></script>
    
    <!-- TileMap editor -->
    <script src="./tileMapEditor.js"></script>
    
    <!-- Main door editor -->
    <script src="./doorEditor.js"></script>
</body>
</html>